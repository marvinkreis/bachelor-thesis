% REMEMBER: Write the thesis from the view of the reader. How would I like to READ the thesis?
% WHY -> WHAT -> HOW structure

\chapter{Introduction}

\section{Motivation}

Introductory computer science (CS) courses often use educational programming languages to teach the principles of computer programming.
These languages are designed to be easily understandable and engaging for programming novices.
In order to accomplish this, they often feature visual and auditory projects instead of textual input and output (IO).
One of the best known and most used languages for this purpose is MIT's Scratch~\cite{scratch, scratchproject}.
Usages of Scratch can be found from primary school classes all the way up to introductory CS courses in universities~\cite{itch}.
Scratch features a block-based programming environment, which lets users build interactive, multimedia programs with little effort.
\parspace

But Scratch's multimedia focus can also be its downfall.
Scratch is entirely developed and executed inside of a graphical user interface (GUI), and programs usually require manual interaction with keyboard and mouse to run.
Because of this, grading student assignments can be troublesome and particularly slow.
Assessment of Scratch programs involves opening, running and interacting with every program individually.
Some courses, which use Scratch, are attended by more than 200 students~\cite{itch}.
Therefore, manual assessment of student solutions becomes too time consuming to be feasible, and automated assessment is needed.
For traditional programming languages with text-based IO, functional testing can be deployed in order to evaluate assignments in a less time consuming, less error-prone, automated way.
Programs are given some pre-defined input, then their according output is analyzed and checked for correctness.
But therein lies Scratch's problem.
Scratch does not have textual input and output mechanisms like most programming languages.
Therefore, automatically testing Scratch programs is not a trivial task and still poses an open problem.
\parspace

Besides automated grading, dynamic testing for Scratch programs can also be useful for students.
For one thing, teachers can provide their students with test suites, so they can run tests on their programs themselves.
By doing this, they can receive valuable feedback about their programs.
They can possibly identify and fix errors in their solutions before submitting them.
In some cases, maybe even a form of test driven development (TDD) can be adopted.
With TDD, students write their program bit by bit in order to incrementally satisfy a test suite.
Likewise, dynamic testing is also helpful for self-study.
Online tutorials for Scratch could include a test suite for learners to test their programs with.
Learners could verify their solution, or receive feedback on possible errors in their solution.


\section{Contributions}
This thesis introduces a new approach towards dynamic testing of Scratch programs.
The testing procedure involves an automation utility, which simulates user input (e.g. mouse movement or key presses) and allows access to Scratch's visual output through a test-friendly interface.
This allows to test the program in traditional unit-test-like test cases.
\parspace

For these tests, we present a way to separate test code from its simulated inputs,
which opens up the possibility to use arbitrary sources of simulated input for the test,
including automatically generated input.
\parspace

We introduces Whisker, an implementation of the aforementioned automation utility,
which provides a interface to control the Scratch virtual machine through JavaScript methods.
With this implementation, we also explore the possibility of automated test input generation through a combination of random input and simple static analysis on the Scratch project.
\parspace

We evaluate Whisker with realistic Scratch programs from different educational courses.
The results provide the following insights:

\mnote{Put statistics here}
% correlation, avg. number of inconsistencies, avg. coverage
\begin{enumerate}[(1)]
    \item Test results can be accurate enough to aid in grading Scratch assignments.
        They can closely match the results of manual assessment and show consistent results over multiple test runs.
    \item Automated input generation is a viable method to control Scratch programs for testing purposes.
        A combination of random input generation and simple static analysis can be used to generate input, which covers a big portion of most Scratch programs' functionality,
        and delivers acceptable results when used for testing.
    \item The testing process does not interfere with the execution of the programs under test.
        Scratch programs behave the same during testing and during normal use.
        Specifically, additional computations for testing do not slow the execution of the tested program down.
\end{enumerate}

\section{Outline}
...

%     Overview of the main points.
%     Discuss the research questions.
%     Define the scope of the thesis.
%     Schematic outline for the rest of the thesis.
%
%     Awaken the reader's interest.
%     Should connect with the conclusions, so review / rewrite it in the end.
